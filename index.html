<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title data-i18n="title">
    Асоціація сприяння безпеці на транспорті України
  </title>

  <!-- Головні стилі сайту у корені -->
  <link rel="stylesheet" href="site.css" />

  <!-- Невеликий стиль-патч якщо фон не підтягнеться з site.css -->
  <style>
    /* кореневий геро-блок очікує, що site.css підставить фон buses.jpg;
       цей фолбек гарантує відображення, якщо класів нема */
    .hero.fallback {
      background: url("buses.jpg") center/cover no-repeat;
    }
  </style>
</head>
<body class="lang-uk">
  <!-- Верхня смуга з назвою та меню -->
  <header class="top">
    <div class="top-inner">
      <h1 class="brand" data-i18n="brand">
        Асоціація сприяння безпеці на транспорті України
      </h1>

      <nav class="nav">
        <ul>
          <!-- важливо: шляхи без ../ і з папками з Великої літери -->
          <li><a href="Home/index.html" data-i18n="nav.home">Головна</a></li>
          <li><a href="About/index.html" data-i18n="nav.about">Про нас</a></li>
          <li><a href="Programs/index.html" data-i18n="nav.programs">Програми</a></li>
          <li><a href="Publications/index.html" data-i18n="nav.publications">Публікації</a></li>
          <li><a href="Contacts/index.html" data-i18n="nav.contacts">Контакти</a></li>
        </ul>
      </nav>

      <div class="lang-switch">
        <button id="btn-uk" type="button" aria-pressed="true">Укр</button>
        <button id="btn-en" type="button" aria-pressed="false">EN</button>
      </div>
    </div>
  </header>

  <!-- Герой-блок (фон підтягується з site.css: url(buses.jpg) у корені) -->
  <main>
    <section class="hero" id="hero">
      <!-- якщо з якихось причин клас із site.css не спрацює, JS додасть .fallback -->
      <div class="hero-card">
        <h1 data-i18n="hero.h1">Впровадження стандартів ЄС</h1>
        <p data-i18n="hero.p1">задля якості послуг для пасажирів</p>
        <p data-i18n="hero.p2">і сталого розвитку громад</p>
      </div>
    </section>
  </main>

  <!-- Нижня смуга (футер) -->
  <footer class="bottom-fixed">
    <div class="bottom-inner">
      <div class="bottom-bar"></div>
      <div class="copy" data-i18n="footer">
        ©2018 TRANSPORTATION SAFETY ASSOCIATION OF UKRAINE
      </div>
    </div>
  </footer>

  <!-- Вбудована мікро-локалізація: без зовнішніх файлів, працює одразу -->
  <script>
    (function () {
      // якщо стилі не встановили фон геро, підкинемо фолбек-клас
      const hero = document.getElementById('hero');
      // малесенька перевірка: якщо обчислений background-image порожній — додаємо fallback
      requestAnimationFrame(() => {
        const bg = getComputedStyle(hero).backgroundImage;
        if (!bg || bg === 'none') hero.classList.add('fallback');
      });

      // Словник перекладів
      const dict = {
        uk: {
          title: "Асоціація сприяння безпеці на транспорті України",
          brand: "Асоціація сприяння безпеці на транспорті України",
          "nav.home": "Головна",
          "nav.about": "Про нас",
          "nav.programs": "Програми",
          "nav.publications": "Публікації",
          "nav.contacts": "Контакти",
          "hero.h1": "Впровадження стандартів ЄС",
          "hero.p1": "задля якості послуг для пасажирів",
          "hero.p2": "і сталого розвитку громад",
          footer: "©2018 TRANSPORTATION SAFETY ASSOCIATION OF UKRAINE",
        },
        en: {
          title: "Transportation Safety Association of Ukraine",
          brand: "Transportation Safety Association of Ukraine",
          "nav.home": "Home",
          "nav.about": "About",
          "nav.programs": "Programs",
          "nav.publications": "Publications",
          "nav.contacts": "Contacts",
          "hero.h1": "Implementing EU standards",
          "hero.p1": "to improve passenger service quality",
          "hero.p2": "and support sustainable communities",
          footer: "©2018 TRANSPORTATION SAFETY ASSOCIATION OF UKRAINE",
        },
      };

      const $all = (sel) => Array.from(document.querySelectorAll(sel));
      const applyLang = (lang) => {
        document.body.classList.toggle('lang-uk', lang === 'uk');
        document.body.classList.toggle('lang-en', lang === 'en');
        // оновити тексти
        $all('[data-i18n]').forEach((el) => {
          const key = el.getAttribute('data-i18n');
          const txt = dict[lang][key];
          if (typeof txt === 'string') {
            if (el.tagName === 'TITLE') {
              document.title = txt;
            } else {
              el.textContent = txt;
            }
          }
        });
        // стан кнопок
        document.getElementById('btn-uk').setAttribute('aria-pressed', lang === 'uk');
        document.getElementById('btn-en').setAttribute('aria-pressed', lang === 'en');
        // зберегти вибір
        try { localStorage.setItem('lang', lang); } catch {}
      };

      // ініціалізація
      const saved = (() => { try { return localStorage.getItem('lang'); } catch { return null; } })();
      applyLang(saved === 'en' ? 'en' : 'uk');

      // обробники
      document.getElementById('btn-uk').addEventListener('click', () => applyLang('uk'));
      document.getElementById('btn-en').addEventListener('click', () => applyLang('en'));
    })();
  </script>
</body>
</html>